### B+树和B树、二叉树的区别
B+树之在叶子节点存放数据，B树非叶子节点也要存储数据，所以单个节点的数据量更小，在相同时间内查询数据量更多
B+树采用双链表的方式存储数据，更加适合MySQL按照顺序查询数据的方法。

在数据量较高的情况下，二叉树搜索数据的时间复杂度仍然为logn,但是规定节点的最大子节点数为d个时，B+树的时间复杂度为logdn，更小，经历的磁盘io比较少。

Hash不适合做范围查询，适合做等值查询。

### 什么时候使用索引？
有唯一限制性的字段的
经常用where的
经常用group by和order by的

在出现大量重复数据，数量量比较少或者数据需要经常更新的时候，不需要使用索引

### mysql数据存储类型

对于float和double类型，其实都存储的都不够准确,原因是两者在存储时都是使用4位或8位二进制数进行存储，遇到小数时就会出现舍弃的情况

解决办法是使用decimal类型进行存储，原理是将数字分为十进制下的整数和小数部分，并分别用十六进制进行保存。

对于文本类存储，text是相对方便的一种，但是由于存储时长度不确定，所以不能用text进行作为主键，只能用char或者varchar。

### 主键策略

1、使用业务字段做主键，但是可能产生的问题是，在这之后如果有业务变动，比如删除信息等，有可能会因为重复的主键而产生问题

2、使用自增字段作为主键，可以避免业务变动的问题，但是会出现的问题是，多个子任务同时新增时，可能会产生冲突

3、使用手动赋值字段做主键，可以解决这些问题，比如在主系统设置一个字段，子系统在申请主系统字段时自动加一，同时主系统加一，即可避免重复问题。

#### 外键
从表中用来引用主表数据的一个公共字段，就叫外键。（需要用外键约束定义）

如果mysql检测到主表中要删除的某一个数据正在被一个从表的一个外键引用，就会报错，这样可以避免删除错误。

虽然不用外键约束，只用连接也可以进行多表查询，但是会导致有可能出现误删数据的情况。

> 因为高并发的性能原因，定义外键约束可能会导致性能问题，对于一些小型的项目，可以不采用外键约束
> 解决办法是，在应用层采用检查数据一致性的方法，比如在主表中删除数据时，检查是否在从表中应用了这条数据。

### 连接（内连接和外连接）
#### 内连接（join、inner join、cross join）
查询结果之只返回符合条件的记录
### 外连接（left join、right join）
查询结果返回某一个表中的所有记录，以及另一个表中符合条件的记录。
外连接就像是把一个表的一部分附在了另一个表的全部并返回。

### 索引（单字段索引和组合索引）
**给表创建主键约束或者唯一性约束时，会自动创建主键索引或者唯一性索引**
选择索引字段时，要选择一些经常当做筛选条件的字段作为索引，这样可以提高检索的效率

### 事务
四大特性：原子性、隔离性、一致性、持久性
