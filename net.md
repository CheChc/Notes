

- osi七层模型与对应的最小数据单位：

  > 物理层：位/比特
  > 数据链路层：帧
  > 网络层：数据报
  > 传输层：段
  > 会话层
  > 表示层
  > 应用层

## 每层常见协议

应用层：

>HTTP、FTP属于应用层
>
>Telnet属于表示层
>
>DNS 属于应用层中的会话层

传输层：TCP、UDP

网络层：IP、ICMP、ARP

链路层：PPP、Ethernet

物理层：IEEE 802.1A（二进制传输）

## 从URL到渲染网页的全过程（常考）

11.DNS解析域名，获取ip端口 

2.建立tcp链接 

3.http发送请求 

4.服务器处理请求 

5.服务器端返回数据 

6.关闭tcp链接 

7.浏览器解析html 

8.浏览器布局渲染 

## DNS相关知识

### 详细过程

**递归查询**

1. **查询本地DNS缓存**：浏览器首先检查自己的DNS缓存，看是否已经解析过这个域名。如果缓存中存在对应的IP地址，解析过程结束，浏览器直接使用该IP地址访问网站。
2. **操作系统DNS缓存**：如果浏览器缓存中没有找到，操作系统会检查自己的DNS缓存。同样，如果找到，解析结束。
3. **递归查询**：如果本地缓存和操作系统缓存都没有找到，操作系统会将查询请求发送给配置的本地DNS服务器（通常是ISP提供的）。这个DNS服务器是一个递归服务器，它会代表用户进行后续的查询。
4. **根DNS服务器查询**：本地DNS服务器首先查询根DNS服务器，获取负责顶级域（TLD）的权威DNS服务器的地址。例如，对于 `.com` 域名，它会找到负责所有 `.com` 域名的顶级域DNS服务器。
5. **TLD权威DNS服务器查询**：递归服务器随后向相应的TLD权威DNS服务器查询，获取负责特定域名的权威DNS服务器的地址。
6. **权威DNS服务器查询**：递归服务器接着向这个权威DNS服务器查询，获取域名对应的IP地址。
7. **返回IP地址**：权威DNS服务器将查询到的IP地址返回给递归服务器，然后递归服务器将这个IP地址返回给发起查询的操作系统。

### gTLD

gTLD是"通用顶级域名"(Generic Top-Level Domain)的缩写，它是互联网域名系统中最高层级的域名之一。gTLD通常位于域名的最右侧，比如".com"、".org"、".net"等。gTLD被设计为代表不同类型的组织或用途，例如：

- .com：商业实体
- .org：非营利组织
- .net：网络技术相关的实体
- .gov：政府机构
- .edu：教育机构

除了这些传统的gTLD之外，近年来还出现了许多新的gTLD，比如".app"、".blog"、".tech"等，这些新gTLD被称为新通用顶级域名（New gTLDs）。这些新gTLD允许更具体的命名，例如".tech"可以用于技术相关的网站。

gTLD由互联网名称与数字地址分配机构（ICANN）管理，它负责域名的注册和分配。每个gTLD都有一个赞助组织，负责其政策和运营。

## HTTP和RPC区别

HTTP是服务器和浏览器之间的数据传输，核心是向服务器发送请求，并等待响应

RPC是一种远程过程调用，使用二进制通信，使用接口定义语言来描述，方便不同编程语言的通信

首先，二者通信协议不同（文本协议/二进制协议）

调用方式不同（URL/接口函数）

参数传递方式不同（URL，请求体/接口函数参数）

接口描述方式（RESTful/IDL）

性能（RPC更快——使用二进制；支持异步调用，可以更好的处理高并发）

## TCP

### 1、三次握手

为什么不能两次/四次？

> 在数据传输的过程中，使用三个报文完成连接
>
> 根本原因是，两次不能确认客户端的接受能力，为了独立有自己的序列号和对方的序列号
>
> 四次比较浪费资源
>
> **三次握手可以阻止重复历史链接的初始化**
> 两次握手没有中间状态用来阻止历史链接

### 2、四次挥手

为什么不能三次？

> 二三次结合在一起后，如果服务端还有数据要发送，则会丢失数据

### 3、为什么需要TCP协议？

IP层是不可靠的，不保证网络包的交付、按序交付、也不保证完整性，所以需要TCP协议来负责。

*一个TCP连接的组成：socket、序列号、窗口大小*

### 4、TCP和UDP的区别？

1、连接（需要和不需要连接）

2、服务对象（一对一/一对多）

3、可靠性（可靠/不保证可靠）

4、拥塞控制、流量控制的有无

5、首部开销（20/8）

6、传输方式（流式/包）

7、分片（TCP会分片/UDP在ip层分片、组装）

### 5、拥塞控制手段

1、慢启动：刚建立连接时，一点一点提高数据发送量，每收到一个ACK，拥塞窗口就+1

2、快恢复：

### 6、流量控制手段

滑动窗口

### 7、重传机制

超时重传

快重传

